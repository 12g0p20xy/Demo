<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
<title>摇一摇</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<main>
		<div id="timer">距离比赛开始还有 秒</div>
		<div id="hand"><img src="img/hand.png" alt=""></div>
		<div id="count">00</div>
		<button class="refresh-btn" onclick="window.location.reload();">刷新页面</button>
	</main>
	<script src="js/shake.js"></script>
	<script>
		window.onload = function() {
			var oTimer = document.getElementById('timer'),
				oHand = document.getElementById('hand'),
				oRefresh = document.querySelector('.refresh-btn'),
				TIME_LINE = tt = 10, // 这里设置倒计时的秒数(单位/秒)
				t = null;
			function setTime() {
				oTimer.innerHTML = '距离比赛开始还有 ' + tt + ' 秒';
				tt--;
				t = setTimeout(setTime, 1000);
				if (tt <= 0) {
					Shake.init(10000); // 这里设置游戏时长(单位/毫秒)
					oTimer.innerHTML = '比赛开始，摇动你的手机';
					oHand.classList.add('animate');
					oRefresh.style.display = 'none';
					clearTimeout(t);
				}
			}
			setTime();
		}
	</script>
</body>
</html>
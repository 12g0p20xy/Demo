<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
	.box{
		position: relative;
		display: inline-block;
		font-size: 0;
	}
	img{
		width: 300px;
		height: 300px;
	}
	.pattern{
		font-size: 16px;
		position: absolute;
		left: 0;
		bottom: -2em;
		display: block;
		width: 1em;
		height: 1em;
		background: black;
		box-shadow: 1px 1px 3px rgba(0,0,0,.6);
		text-indent: 1.5em;
	}
	</style>
</head>
<body>
	<!-- 对所有添加data-adaptive-background属性的图片有效 -->
	<div class="box"><img src="piotr-jasielski-sketch-mountain-ldkjfoie.jpg" data-adaptive-background></div>
	<div class="box"><img src="un-lee-troll.jpg" data-adaptive-background></div>
	<div class="box"><img src="sergio-suarez-illustration-65.jpg" data-adaptive-background></div>
	<div class="box"><img src="rostislav-zagornov-sluts.jpg" data-adaptive-background></div>
	<script src="jquery-1.11.3.min.js" type="text/javascript"></script>
	<script src="jquery.adaptive-backgrounds.js" type="text/javascript"></script>
	<script type="text/javascript">
	$(function(){
		$.adaptiveBackground.run();
		var pattern = $('.box').append('<span class="pattern"></span>');
		// 当找到图片主色的事件发生触发此函数
		$('img').on('ab-color-found', function(ev,payload){
		  console.log(payload.color);   // The dominant color in the image.
		  $(this).siblings('.pattern').css('background', payload.color).text(payload.color);
		  $(this).hover(function(){
		  	$('body').css('background', payload.color);
		  }, function(){
		  	$('body').css('background', 'white');
		  });
		});
	});
	</script>
</body>
</html>
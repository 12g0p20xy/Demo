<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>masonry</title>
	<link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
	<div class="container-fluid">
		<div class="col-md-2 nav">
			<h1>logo</h1>
		  	<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
		  	tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
		  	quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
		  	consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
		  	cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
		  	proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
		  	<ul>
			    <li><i class="glyphicon glyphicon-home"></i></li>
			    <li><i class="glyphicon glyphicon-menu-hamburger"></i></li>
			    <li><i class="glyphicon glyphicon-heart"></i></li>
		  	</ul>
		</div>
		<div class="grid col-md-10 main">
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-1.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-4.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-5.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-6.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/WithPeople_thumb.jpg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-8.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-8.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-1.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-9.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/Tiercal_thumb2.jpg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-9.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-4.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-5.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-front.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/Tiercal_thumb2.jpg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/WithPeople_thumb.jpg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-6.jpeg"></a></div>
			<div class="grid-item col-md-3 col-sm-4 col-xs-6"><a href="javascript:void(0)"><img src="images/sb-front.jpeg"></a></div>
		</div>
	</div>
	<!-- 导航链接 隐藏 -->
	<div id="next"><a href="2.html"></a></div>

	<script src="js/jquery-1.11.3.min.js" type="text/javascript"></script>
	<script src="js/masonry.pkgd.min.js" type="text/javascript"></script>	<!-- masonry瀑布流 -->
	<script src="js/imagesloaded.pkgd.min.js" type="text/javascript"></script>	<!-- 图片预加载 -->
	<script src="js/jquery.infinitescroll.min.js" type="text/javascript"></script>	<!-- 无限加载 -->
    
	<script type="text/javascript">
	$(function(){
		var $grid = $('.grid').imagesLoaded( function() {
		  // init Masonry after all images have loaded
		  $grid.masonry();
		});

		$grid.infinitescroll({
	        navSelector: "#next",			// 页面分页元素，成功后会被隐藏
	        nextSelector: "#next a",		// 翻页的链接
	        itemSelector: ".grid-item",		// ajax回来之后，每一项的selecter
	        animate: true,					// 加载完毕是否采用动态效果
	        extraScrollPx: 100,				//向下滚动的像素，必须开启动态效果
	        bufferPx: 3,					// 提示语展现的时长，数字越大，展现时间越短
	        loading:{
	        	msgText: '正在加载',
	        	finishedMsg: '最后一页!',
	        },
		}, function(newElements, opts){
			$('.grid-item').addClass('col-md-3 col-sm-4 col-xs-6');
			var page = opts.state.currPage;
			console.log(page);	
			// 可以加入别的功能

			var $newElems = $(newElements);
			$grid.masonry('appended', $newElems);	// 新加载的内容插入grid并重新排列
		});
	});
	</script>
</body>
</html>